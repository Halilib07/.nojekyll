<!DOCTYPE html>
<html>
<head>
    
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <script src="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet@1.9.3/dist/leaflet.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"/>
    <link rel="stylesheet" href="https://netdna.bootstrapcdn.com/bootstrap/3.0.0/css/bootstrap-glyphicons.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.2.0/css/all.min.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Leaflet.awesome-markers/2.0.2/leaflet.awesome-markers.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/python-visualization/folium/folium/templates/leaflet.awesome.rotate.min.css"/>
    
            <meta name="viewport" content="width=device-width,
                initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
            <style>
                #map_a5fbe3b1fccbe52590354ba02cc0b821 {
                    position: relative;
                    width: 100.0%;
                    height: 100.0%;
                    left: 0.0%;
                    top: 0.0%;
                }
                .leaflet-container { font-size: 1rem; }
            </style>

            <style>html, body {
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }
            </style>

            <style>#map {
                position:absolute;
                top:0;
                bottom:0;
                right:0;
                left:0;
                }
            </style>

            <script>
                L_NO_TOUCH = false;
                L_DISABLE_3D = false;
            </script>

        
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/leaflet.markercluster.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.css"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet.markercluster/1.1.0/MarkerCluster.Default.css"/>
</head>
<body>
    
    
            <div class="folium-map" id="map_a5fbe3b1fccbe52590354ba02cc0b821" ></div>
        

    <script>
    var userLocationMarker = null;
    var userLocationCircle = null;
    var watchId = null;
    var map = null;

    // Folium haritasƒ±nƒ± BUL (EN KRƒ∞Tƒ∞K D√úZELTME)
    document.addEventListener("DOMContentLoaded", function () {
        for (var key in window) {
            if (key.startsWith("map_") && window[key] instanceof L.Map) {
                map = window[key];
                console.log("Folium haritasƒ± bulundu:", key);
                createLocationButton();
                return;
            }
        }
        console.error("Folium haritasƒ± bulunamadƒ±!");
    });

    // Konum butonu
    function createLocationButton() {
        var LocationControl = L.Control.extend({
            options: { position: 'topleft' },

            onAdd: function () {
                var container = L.DomUtil.create('div', 'leaflet-bar');
                container.style.background = 'white';

                var btn = L.DomUtil.create('a', '', container);
                btn.innerHTML = 'üìç';
                btn.style.width = '36px';
                btn.style.height = '36px';
                btn.style.lineHeight = '36px';
                btn.style.textAlign = 'center';
                btn.style.cursor = 'pointer';
                btn.title = 'Konumumu G√∂ster';

                btn.onclick = function (e) {
                    e.preventDefault();
                    getUserLocation();
                };
                return container;
            }
        });

        map.addControl(new LocationControl());
    }

    // Konumu al
    function getUserLocation() {
        if (!navigator.geolocation) {
            alert("Tarayƒ±cƒ± konum desteklemiyor");
            return;
        }

        navigator.geolocation.getCurrentPosition(
            function (pos) {
                showUserLocation(
                    pos.coords.latitude,
                    pos.coords.longitude,
                    pos.coords.accuracy
                );
                startTracking();
            },
            function (err) {
                alert("Konum alƒ±namadƒ±: " + err.message);
            },
            { enableHighAccuracy: true }
        );
    }

    // Haritada g√∂ster
    function showUserLocation(lat, lng, acc) {
        if (userLocationMarker) map.removeLayer(userLocationMarker);
        if (userLocationCircle) map.removeLayer(userLocationCircle);

        userLocationMarker = L.circleMarker([lat, lng], {
            radius: 8,
            color: '#4285F4',
            fillColor: '#4285F4',
            fillOpacity: 1
        }).addTo(map);

        userLocationCircle = L.circle([lat, lng], {
            radius: acc,
            color: '#4285F4',
            fillOpacity: 0.15
        }).addTo(map);

        map.setView([lat, lng], 16);
    }

    // Canlƒ± takip
    function startTracking() {
        watchId = navigator.geolocation.watchPosition(function (pos) {
            var lat = pos.coords.latitude;
            var lng = pos.coords.longitude;
            var acc = pos.coords.accuracy;

            userLocationMarker.setLatLng([lat, lng]);
            userLocationCircle.setLatLng([lat, lng]);
            userLocationCircle.setRadius(acc);
        });
    }
    </script>
    </body>
<script>
    
    
            var map_a5fbe3b1fccbe52590354ba02cc0b821 = L.map(
                "map_a5fbe3b1fccbe52590354ba02cc0b821",
                {
                    center: [36.561461702452824, 30.237690427547165],
                    crs: L.CRS.EPSG3857,
                    ...{
  "zoom": 12,
  "zoomControl": true,
  "preferCanvas": false,
}

                }
            );
            L.control.scale().addTo(map_a5fbe3b1fccbe52590354ba02cc0b821);

            

        
    
            var tile_layer_9db1051d879e3776febda975a37ef8d6 = L.tileLayer(
                "https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",
                {
  "minZoom": 0,
  "maxZoom": 19,
  "maxNativeZoom": 19,
  "noWrap": false,
  "attribution": "\u00a9 OpenStreetMap contributors",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_9db1051d879e3776febda975a37ef8d6.addTo(map_a5fbe3b1fccbe52590354ba02cc0b821);
        
    
            var tile_layer_a6cfa68ba174f22f6c2ddaee310dbfba = L.tileLayer(
                "https://mt1.google.com/vt/lyrs=y\u0026x={x}\u0026y={y}\u0026z={z}",
                {
  "minZoom": 0,
  "maxZoom": 22,
  "maxNativeZoom": 22,
  "noWrap": false,
  "attribution": "Google Hybrid",
  "subdomains": "abc",
  "detectRetina": false,
  "tms": false,
  "opacity": 1,
}

            );
        
    
            tile_layer_a6cfa68ba174f22f6c2ddaee310dbfba.addTo(map_a5fbe3b1fccbe52590354ba02cc0b821);
        
    
            var marker_cluster_38f298e5c9e58e54dd5cb6ecd3a32048 = L.markerClusterGroup(
                {
}
            );
        
    
            var marker_7a76f5b6f30b77b40574429598b1a0f6 = L.marker(
                [36.59442718, 30.27230778],
                {
}
            ).addTo(marker_cluster_38f298e5c9e58e54dd5cb6ecd3a32048);
        
    
            var icon_572673c2a3770bf9e360538ce5b4a612 = L.AwesomeMarkers.icon(
                {
  "markerColor": "red",
  "iconColor": "white",
  "icon": "info-sign",
  "prefix": "fa",
  "extraClasses": "fa-rotate-0",
}
            );
        
    
        var popup_bf921ea376d337232429cb3188798fe9 = L.popup({
  "maxWidth": 350,
});

        
            
                var html_9d9cd4f703138ae6a8fcc36d41aecaf3 = $(`<div id="html_9d9cd4f703138ae6a8fcc36d41aecaf3" style="width: 100.0%; height: 100.0%;">                     <div style='font-family: Arial; width: 300px;'>                         <div style='display:flex; justify-content:space-between; align-items:center; margin-bottom:8px;'>                             <h4 style='color: red; margin:0; padding-bottom:5px; border-bottom:1px solid #eee;'>                                 √áok Acil                             </h4>                             <div style='font-size:20px;'>                                 ‚ùå                             </div>                         </div>                                                  <table style='width:100%; border-collapse:collapse; margin-bottom:10px;'>                             <tr>                                 <td style='padding:4px; border-bottom:1px solid #eee; width:80px;'><b>ƒ∞l√ße:</b></td>                                 <td style='padding:4px; border-bottom:1px solid #eee;'>KA≈û</td>                             </tr>                             <tr>                                 <td style='padding:4px; border-bottom:1px solid #eee;'><b>Hat:</b></td>                                 <td style='padding:4px; border-bottom:1px solid #eee;'>2025.02.02_753004_H07_K√ñYƒ∞√áƒ∞ √áIKI≈û</td>                             </tr>                             <tr>                                 <td style='padding:4px; border-bottom:1px solid #eee;'><b>Direk No:</b></td>                                 <td style='padding:4px; border-bottom:1px solid #eee;'>201803</td>                             </tr>                             <tr>                                 <td style='padding:4px; border-bottom:1px solid #eee;'><b>Durum:</b></td>                                 <td style='padding:4px; border-bottom:1px solid #eee; font-weight:bold;'>                                     ‚ùå YAPILMADI                                 </td>                             </tr>                             <tr>                                 <td style='padding:4px; border-bottom:1px solid #eee;'><b>Tespit Tarihi:</b></td>                                 <td style='padding:4px; border-bottom:1px solid #eee;'>                                     02/10/2025 12:30:13                                 </td>                             </tr>                         </table>                                                  <!-- TESPƒ∞T NOTU -->                         <div style='margin-top:15px; padding:10px; background:#ffeaea; border-left:4px solid #ff4444;                                      border-radius:4px; font-size:12px;'>                             <div style='font-weight:bold; color:#ff0000; margin-bottom:5px;'>                                 üîç TESPƒ∞T:                             </div>                             <div style='color:#cc0000; max-height:100px; overflow-y:auto;'>                                 atƒ±k parafodurlar var                             </div>                         </div>                                                  <!-- BUTONLAR -->                         <div style='margin-top:15px; display:flex; flex-direction:column; gap:8px;'>                             <a href='https://www.google.com/maps/dir/?api=1&destination=36.59442718,30.27230778' target='_blank'                                 style='display:flex; align-items:center; justify-content:center;                                       background:#34A853; color:white; text-decoration:none;                                        padding:10px 16px; border-radius:6px; font-weight:bold;                                       transition:all 0.2s;'>                                 <span style='margin-right:8px; font-size:16px;'>üöó</span>                                 Yol Tarifi Al                             </a>                         </div>                                                  <!-- KOORDƒ∞NAT KOPYALAMA -->                         <div style='margin-top:10px; font-size:11px; color:#777; text-align:center;'>                             Koordinat: <span style='font-family:monospace; background:#f5f5f5; padding:2px 5px;                                                   border-radius:3px; cursor:pointer;'                                               onclick='navigator.clipboard.writeText("36.594427, 30.272308")'>                                 36.594427, 30.272308                             </span>                         </div>                     </div>                     </div>`)[0];
                popup_bf921ea376d337232429cb3188798fe9.setContent(html_9d9cd4f703138ae6a8fcc36d41aecaf3);
            
        

        marker_7a76f5b6f30b77b40574429598b1a0f6.bindPopup(popup_bf921ea376d337232429cb3188798fe9)
        ;

        
    
    
            marker_7a76f5b6f30b77b40574429598b1a0f6.bindTooltip(
                `<div>
                     2025.02.02_753004_H07_K√ñYƒ∞√áƒ∞ √áIKI≈û - 201803 (‚ùå YAPILMADI)
                 </div>`,
                {
  "sticky": true,
}
            );
        
    
                marker_7a76f5b6f30b77b40574429598b1a0f6.setIcon(icon_572673c2a3770bf9e360538ce5b4a612);
            
    
            marker_cluster_38f298e5c9e58e54dd5cb6ecd3a32048.addTo(map_a5fbe3b1fccbe52590354ba02cc0b821);
        
    
            var layer_control_6396df833d8771ddba3d95ccc3f8e6eb_layers = {
                base_layers : {
                    "\ud83d\uddfa\ufe0f Normal Harita" : tile_layer_9db1051d879e3776febda975a37ef8d6,
                    "\ud83d\udef0\ufe0f\ud83d\udd24 Uydu + Etiketler" : tile_layer_a6cfa68ba174f22f6c2ddaee310dbfba,
                },
                overlays :  {
                    "\ud83d\udea8 \u00d6ncelikli Direkler" : marker_cluster_38f298e5c9e58e54dd5cb6ecd3a32048,
                },
            };
            let layer_control_6396df833d8771ddba3d95ccc3f8e6eb = L.control.layers(
                layer_control_6396df833d8771ddba3d95ccc3f8e6eb_layers.base_layers,
                layer_control_6396df833d8771ddba3d95ccc3f8e6eb_layers.overlays,
                {
  "position": "topright",
  "collapsed": false,
  "autoZIndex": true,
}
            ).addTo(map_a5fbe3b1fccbe52590354ba02cc0b821);

        
</script>
</html>